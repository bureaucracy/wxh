(function e(t,r,n){function o(c,i){if(!r[c]){if(!t[c]){var l=typeof require=="function"&&require;if(!i&&l)return l(c,!0);if(a)return a(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var s=r[c]={exports:{}};t[c][0].call(s.exports,function(e){var r=t[c][1][e];return o(r?r:e)},s,s.exports,e,t,r,n)}return r[c].exports}var a=typeof require=="function"&&require;for(var c=0;c<n.length;c++)o(n[c]);return o})({1:[function(e,t,r){"use strict";var n=e("./src/audio");var o=e("./src/visual");var a=e("./src/matrices");var c=document.querySelector("#shop");var i=document.querySelector("canvas");o.resize();n.play();c.onclick=function(){o.add(a.generatePuzzle());n.startGame()};window.onresize=function(){o.resize()};setInterval(function(){n.play();o.resize();o.switchBackground()},5e3);window.onkeydown=function(e){if(e.which===38){n.up()}else if(e.which===40){n.down()}else if(e.which===37){n.left()}else if(e.which===39){n.right()}o.calculate()};function l(e,t){if(t<=100){n.up()}else if(t>=125){n.down()}else if(e<=50){n.left()}else if(e>=320){n.right()}}var u;i.ontouchstart=function(e){e.preventDefault();if(e.touches){u=setInterval(function(){l(e.touches[0].pageX,e.touches[0].pageY)},100)}else{l(e.pageX,e.pageY)}};i.ontouchend=function(e){e.preventDefault();clearInterval(u)};window.requestAnimationFrame(o.generateGradient)},{"./src/audio":2,"./src/matrices":3,"./src/visual":5}],2:[function(e,t,r){"use strict";var n=e("./utils");var o=new(window.AudioContext||window.webkitAudioContext);var a=new(window.AudioContext||window.webkitAudioContext);function c(e){var t=o.createOscillator();var r=o.createGain();r.gain.value=e.gain;r.gain.linearRampToValueAtTime(0,1500);r.connect(o.destination);t.type=e.osc1[0];t.frequency.value=e.osc1[1]-(n.colorNM-e.osc1[2]);t.connect(r);t.start();var a=o.createOscillator();a.type=e.osc2[0];a.frequency.value=e.osc2[1]-(n.colorNM-e.osc2[2]);a.connect(r);a.start();var c=o.createOscillator();c.type=e.osc3[0];c.frequency.value=e.osc3[1]-(n.colorNM-e.osc3[2]);c.connect(r);c.start();r.gain.exponentialRampToValueAtTime(.001,o.currentTime+2);setTimeout(function(){t.stop();a.stop();c.stop();r.disconnect(o.destination);r=null},e.timeout)}function i(){n.currentFreq+=1e11;if(n.currentFreq>n.HIGHEST_FREQ_HZ){n.currentFreq=n.HIGHEST_FREQ_HZ}c({gain:.01,osc1:["sine",380,310],osc2:["sine",410,390],osc3:["sawtooth",430,410],timeout:1700})}function l(){n.currentFreq-=1e11;if(n.currentFreq<n.LOWEST_FREQ_HZ){n.currentFreq=n.LOWEST_FREQ_HZ}c({gain:.01,osc1:["sine",400,310],osc2:["sine",430,400],osc3:["sawtooth",430,410],timeout:2200})}function u(){n.currentHorizontal+=.001;n.currentHorizontal=parseFloat(n.currentHorizontal.toFixed(3));n.currentBlue+=.002;n.currentGreen+=.005;n.currentRead+=.008;if(n.currentBlue>.9){n.currentBlue=1}if(n.currentGreen>.9){n.currentGreen=1}if(n.currentRed>.9){n.currentRed=1}if(n.currentHorizontal>.999){n.currentHorizontal=1}c({gain:.02,osc1:["triangle",200,410],osc2:["sine",430,400],osc3:["triangle",420,400],timeout:2200})}function s(){n.currentHorizontal-=.001;n.currentHorizontal=parseFloat(n.currentHorizontal.toFixed(3));n.currentBlue-=.005;n.currentGreen-=.002;n.currentRed-=.008;if(n.currentBlue<0){n.currentBlue=0}if(n.currentGreen<0){n.currentGreen=0}if(n.currentRed<0){n.currentRed=0}if(n.currentHorizontal<0){n.currentHorizontal=0}c({gain:.02,osc1:["triangle",200,370],osc2:["sine",430,400],osc3:["triangle",420,360],timeout:2200})}function d(){var e=a.createOscillator();var t=a.createGain();t.connect(a.destination);t.gain.value=.3;e.type="sine";e.frequency.value=60;e.connect(t);e.start();var r=a.createOscillator();r.type="triangle";r.frequency.value=80;r.connect(t);r.start();var n=a.createOscillator();n.type="sine";n.frequency.value=80;n.connect(t);n.start();t.gain.exponentialRampToValueAtTime(.001,a.currentTime+.8);setTimeout(function(){e.stop();r.stop();n.stop();t.disconnect(a.destination);t=null},850)}function f(){var e=o.createOscillator();var t=o.createGain();t.connect(o.destination);t.gain.value=.2;e.type="sine";e.frequency.value=180;e.connect(t);e.start();var r=o.createOscillator();r.type="triangle";r.frequency.value=180;r.connect(t);r.start();t.gain.exponentialRampToValueAtTime(.01,o.currentTime+1);setTimeout(function(){e.stop();r.stop();t.disconnect(o.destination);t=null},1e3)}function v(){var e=o.createOscillator();var t=o.createGain();t.connect(o.destination);t.gain.value=.2;e.type="sawtooth";e.frequency.value=100;e.connect(t);e.start();var r=o.createOscillator();r.type="triangle";r.frequency.value=120;r.connect(t);r.start();setTimeout(function(){e.stop();r.stop();t.disconnect(o.destination);t=null},300)}function p(){var e=o.createOscillator();var t=o.createGain();t.connect(o.destination);t.gain.value=.4;e.type="sine";e.frequency.value=195;e.connect(t);e.start();var r=o.createOscillator();r.type="triangle";r.frequency.value=110;r.connect(t);r.start();var n=o.createOscillator();n.type="triangle";n.frequency.value=80;n.connect(t);n.start();t.gain.exponentialRampToValueAtTime(.01,o.currentTime+2);setTimeout(function(){e.stop();r.stop();n.stop();t.disconnect(o.destination);t=null},2500)}function m(){var e=o.createOscillator();var t=o.createGain();t.connect(o.destination);t.gain.value=.3;var r=o.createDelay();r.delayTime.value=.2;r.connect(t);e.type="sine";e.frequency.value=215;e.connect(t);e.start();var n=o.createOscillator();n.type="triangle";n.frequency.value=120;n.connect(t);n.start();var a=o.createOscillator();a.type="sawtooth";a.frequency.value=20;a.connect(t);a.start();t.gain.exponentialRampToValueAtTime(.01,o.currentTime+2);setTimeout(function(){e.stop();n.stop();a.stop();t.disconnect(o.destination);t=null},2500)}t.exports={up:i,down:l,left:u,right:s,play:d,switchBlock:f,solveError:v,solveCorrect:p,startGame:m}},{"./utils":4}],3:[function(e,t,r){"use strict";var n=e("./utils");function o(){var e={all:["⦿","⊞","⋓","⋒","⌽","△","○","⊔","⊿","⋊","⋈","⋉","☆"]};var t=n.currentLevel;function r(){var t=Math.floor(Math.random()*(e.all.length-1+1))+1;return e.all[t-1]}function o(){var e=Math.floor(Math.random()*(n.HIGHEST_FREQ_HZ-n.LOWEST_FREQ_HZ+1))+n.LOWEST_FREQ_HZ;e=Math.trunc(e/Math.pow(10,11))*Math.pow(10,11);return{freq:e,horiz:parseFloat(Math.random()).toFixed(3)}}switch(t){case 2:e.first=[[r(),r()]];e.second=[[r(),r()],[r(),r()]];e.coord=o();break;case 3:e.first=[[r(),r(),r()],[r(),r(),r()]];e.second=[[r(),r(),r()],[r(),r(),r()]];e.coord=o();break;case 4:e.first=[[r(),r(),r()],[r(),r(),r()],[r(),r(),r()]];e.second=[[r(),r(),r()],[r(),r(),r()],[r(),r(),r()],[r(),r(),r()]];e.coord=o();break;case 5:e.first=[[r(),r(),r(),r()],[r(),r(),r(),r()],[r(),r(),r(),r()],[r(),r(),r(),r()]];e.second=[[r(),r(),r(),r()],[r(),r(),r(),r()],[r(),r(),r(),r()],[r(),r(),r(),r()],[r(),r(),r(),r()]];e.coord=o();break;case 1:default:e.first=[[r(),r()]];e.second=[[r(),r()]];e.coord=o()}return e}function a(e,t){if(!e||!e.length||(!t||!t.length)){console.error("Missing matrices.");return}if(e[0].length!==t[0].length){console.error("First matrix length does not match second matrix column length");return}var r=[];var n=[];e.map(function(e){t.map(function(t){for(var o=0;o<t.length;o++){n.push(e[o]+t[o])}r.push(n.join(""));n=[]})});return r.join("")}t.exports={generatePuzzle:o,multiply:a}},{"./utils":4}],4:[function(e,t,r){"use strict";var n=3e8;var o=1e9;var a=38e13;var c=799e12;t.exports={SPEED_OF_LIGHT:n,NM_IN_METER:o,LOWEST_FREQ_HZ:a,HIGHEST_FREQ_HZ:c,currentFreq:38e13,currentRed:1,currentBlue:0,currentGreen:0,currentHorizontal:.5,colorNM:789,currentLevel:1,currentIteration:0}},{}],5:[function(e,t,r){"use strict";var n=e("./utils");var o=e("./matrices");var a=e("./audio");var c=false;var i=document.querySelector("canvas");var l=i.getContext("2d");var u,s,d;var f;var v=0;var p=0;var m=false;var h=false;var g=document.querySelector("#info");var y=document.querySelector("#face2");var q=document.querySelector("#wrapper");var w=document.querySelector("#level");var E=[];var M={};function T(){var e=n.currentFreq;var t=document.querySelectorAll(".face");for(var r=0;r<t.length;r++){t[r].classList.add("off");q.classList.remove("face"+(r+1))}if(n.currentHorizontal>=.75){y=document.querySelector("#face4");y.classList.remove("off");q.classList.add("face4")}else if(n.currentHorizontal>=.5&&n.currentHorizontal<.75){y=document.querySelector("#face3");q.classList.add("face3");y.classList.remove("off")}else if(n.currentHorizontal>=.25&&n.currentHorizontal<.5){y=document.querySelector("#face2");y.classList.remove("off");q.classList.add("face2")}else{y=document.querySelector("#face1");y.classList.remove("off");q.className=""}n.colorNM=Math.floor(n.SPEED_OF_LIGHT/e*n.NM_IN_METER);if(n.colorNM>=380&&n.colorNM<440){u=-(n.colorNM-440)/(440-380);s=0;d=n.currentBlue}else if(n.colorNM>=440&&n.colorNM<490){u=0;s=(n.colorNM-440)/(490-440);d=n.currentBlue}else if(n.colorNM>=490&&n.colorNM<510){u=0;s=n.currentGreen;d=-(n.colorNM-510)/(510-490)}else if(n.colorNM>=510&&n.colorNM<580){u=(n.colorNM-510)/(580-510);s=1;d=n.currentBlue}else if(n.colorNM>=580&&n.colorNM<645){u=1;s=-(n.colorNM-645)/(645-580);d=n.currentBlue}else if(n.colorNM>=645&&n.colorNM<771){u=1;s=0;d=0}else{u=0;d=0;s=0}u=Math.round(u*100);s=Math.round(s*100);d=Math.round(d*100);c=!c;if(c){f="rgba("+u+","+s+","+d+", 0.8)"}g.querySelector("#freq").textContent=n.currentFreq;g.querySelector("#mid").textContent=n.currentHorizontal}function H(){v+=9e-4;p+=.015;if(v>.5){v=0;T()}if(p>.8){p=0;T()}if(!f){f="rgba(1, 1, 1, 0.9)"}if(!u&&!s&&!d){u=0;s=0;d=0}var e=l.createLinearGradient(0,0,i.width,i.height);e.addColorStop(v,f);e.addColorStop(p,"rgba("+u+","+s+","+d+", "+v+")");l.globalAlpha=v;l.fillStyle=e;l.fillRect(0,0,i.width,i.height);window.requestAnimationFrame(H)}function x(){m=!m;if(m){y.classList.add("on")}else{y.classList.remove("on")}}function z(){i.width=window.innerWidth;i.height=window.innerHeight;l.clearRect(0,0,i.width,i.height)}function N(e){if(h){return}var t=e.first;var r=e.second;var c=e.coord;var i=0;var l=document.createElement("div");l.id="puzzle";r.map(function(e){i+=e.length});E=[];e.all.map(function(e){E.push(e)});var u=document.createElement("div");u.id="solution";var s=i*t.length*2;for(var d=0;d<s;d++){M["ans"+d]=0;var f=document.createElement("div");f.className="ansvalue";f.id="ans-"+d;f.onclick=function(e){var t=e.target;var r=t.id.split("-")[1];t.textContent=E[M["ans"+r]];M["ans"+r]+=1;if(M["ans"+r]>Object.keys(E).length){M["ans"+r]=0}a.switchBlock()};u.appendChild(f);if((d+1)%2===0&&d<s-1){var v=document.createElement("div");if((d+1)%t[0].length===0){v.className="plus";v.textContent=","}else{v.className="plus";v.textContent="+"}u.appendChild(v)}}var p=document.createElement("button");p.type="button";p.textContent="✓";p.onclick=function(e){e.preventDefault();var i=document.querySelectorAll(".ansvalue");var l="";for(var s=0;s<i.length;s++){l+=i[s].innerText}var d=o.multiply(t,r);var f=d===l;var v=n.currentHorizontal==c.horiz&&n.currentFreq==c.freq;if(!f||!v){u.classList.add("error");a.solveError()}else{u.classList.remove("error");a.solveCorrect();document.body.removeChild(document.querySelector("#solution"));document.body.removeChild(document.querySelector("#puzzle"));n.currentIteration+=1;if(n.currentIteration%3===0){n.currentLevel+=1;n.currentIteration=0;w.querySelector("span").textContent=n.currentLevel}if(n.currentLevel>5){n.currentLevel=5}h=false}};u.appendChild(p);var m=document.createElement("h2");var g=document.createElement("p");var y=document.createElement("p");m.textContent="freq: "+c.freq+" / horiz: "+c.horiz;t.map(function(e){var t=document.createElement("div");t.className="row";t.textContent=e.join("   ");g.appendChild(t)});r.map(function(e){var t=document.createElement("div");t.className="row";t.textContent=e.join("   ");y.appendChild(t)});g.style.width=50*t.length+"px";y.style.width=50*r.length+"px";l.appendChild(m);l.appendChild(g);l.appendChild(y);document.body.appendChild(l);document.body.appendChild(u);h=true}t.exports={add:N,calculate:T,resize:z,generateGradient:H,switchBackground:x}},{"./audio":2,"./matrices":3,"./utils":4}]},{},[1]);